# Codebase Report: Service Registry & Agent Dependencies
Generated: 2026-02-11 21:41:45

## Summary

The Vibe Marketing platform uses a **capability-first service architecture** where:
- **30+ agents** depend on external services (SEO APIs, image generation, web scraping, social APIs, etc.)
- **Service Registry** in Convex manages which providers are active
- **Agent availability** is dynamically gated based on configured services
- **23/31 agents work at $0/mo** with free tiers + self-hosted Docker services
- **35 MCP servers** declared in .mcp.json (18 official + 17 community)

---

## Section 4: Service Registry System (Lines 264-687)

### Core Architecture (Lines 276-378)

The Service Registry uses 3 Convex tables:

```typescript
// Service categories (capabilities agents need)
serviceCategories: defineTable({
  key: v.string(),                       // "seo_keywords", "web_scraping", "image_generation"
  displayName: v.string(),               // "SEO & Keywords"
  scope: v.union(                        // research | content | distribution | quality | infrastructure
  isRequired: v.boolean(),               // true = agents can't work without this
  selfHostedAvailable: v.boolean(),      // true = free self-hosted option exists
  freeProviderAvailable: v.boolean(),    // true = at least one provider has free tier
})

// Service providers (the actual APIs/tools)
services: defineTable({
  categoryId: v.id("serviceCategories"),
  name: v.string(),                      // "dataforseo", "crawl4ai", "firecrawl"
  isActive: v.boolean(),                 // Whether this provider is currently active
  priority: v.number(),                  // 1 = highest priority in category
  
  integrationMethod: v.union(
    v.literal("mcp"),                    // MCP server only
    v.literal("script"),                 // Python script only
    v.literal("both"),                   // MCP + script
    v.literal("local"),                  // Local tool (pandoc, etc.)
    v.literal("docker"),                 // Self-hosted Docker container
  ),
  mcpServerName: v.optional(v.string()), // Key in .mcp.json
  scriptPath: v.optional(v.string()),    // Path to wrapper script
  dockerImage: v.optional(v.string()),   // Docker image for self-hosted
  
  costTier: v.union(
    v.literal("free"),                   // Completely free
    v.literal("freemium"),               // Free tier available
    v.literal("paid"),                   // Paid only
    v.literal("self_hosted"),            // Free if self-hosted
  ),
  useCases: v.array(v.string()),         // ["hero_images", "product_photos"]
})

// Agent service dependencies (which agents need which capabilities)
agentServiceDeps: defineTable({
  agentName: v.string(),                 // "vibe-keyword-researcher"
  capabilityKey: v.string(),             // "seo_keywords"
  requirement: v.union(
    v.literal("required"),               // Agent cannot function without this
    v.literal("optional"),               // Agent works but with reduced capability
    v.literal("enhances"),               // Nice to have, agent fully works without
  ),
  reason: v.string(),                    // "Needs keyword data to generate briefs"
})
```

### Service Categories & Providers (Lines 380-501)

**SEO & Keywords** (5 providers)
1. DataForSEO - $50 min deposit, pay-as-go - scripts: query_dataforseo.py
2. Ahrefs API - $129+/mo subscription - scripts: query_ahrefs.py
3. SEMrush API - $139+/mo subscription - scripts: query_semrush.py
4. Google Keyword Planner - Free via Google Ads API - scripts: query_gkp.py
5. AnswerThePublic - Free tier / $9+/mo - scripts: query_atp.py

**SERP & Rank Tracking** (3 providers)
1. DataForSEO SERP - included in DataForSEO - scripts: query_serp.py
2. Google Search Console - Free - scripts: query_gsc.py
3. Bing Webmaster - Free - scripts: query_bing.py

**Web Scraping** (4 providers)
1. Firecrawl - $19+/mo, LLM-ready markdown - mcp: firecrawl
2. Crawl4AI - Free, self-hosted - scripts: crawl4ai.py
3. Apify - Pay-as-go, 2000+ actors - scripts: apify_scrape.py
4. ScraperAPI - $49+/mo, CAPTCHA handling - scripts: scraper_api.py

**Social Platform Scraping** (by platform)

X / Twitter:
1. X API v2 - Free Essential / $100 Basic - scripts: x_api.py
2. ScrapeCreators - $10/5K credits - scripts: scrapecreators_x.py
3. Apify X Actor - Pay-as-go - scripts: apify_x.py

Reddit:
1. Reddit API - Free with rate limits - scripts: reddit_api.py
2. ScrapeCreators - $10/5K credits - scripts: scrapecreators_reddit.py

LinkedIn:
1. PhantomBuster - $69+/mo - scripts: phantombuster_li.py
2. ProxyCurl - Pay-as-go - scripts: proxycurl.py

Facebook / Instagram:
1. Graph API - Free, official - scripts: meta_graph.py
2. Apify Actors - Pay-as-go - scripts: apify_meta.py

TikTok:
1. TikTok API - Limited official - scripts: tiktok_api.py
2. ScrapeCreators - $10/5K credits - scripts: scrapecreators_tt.py

YouTube:
1. YouTube Data v3 - Free quota - scripts: youtube_api.py
2. Apify Actors - Pay-as-go - scripts: apify_yt.py

VK:
1. VK API - Free, generous - scripts: vk_api.py

**Image Generation** (8 providers)
1. FLUX Pro (fal.ai) - $0.05-0.10/img - use: hero images, product shots
2. FLUX Schnell - $0.003/img - use: quick drafts, thumbnails
3. Ideogram 3.0 - $7-20/mo - use: text-in-images, infographics
4. DALL-E 3 - $0.04-0.08/img - use: general purpose
5. Midjourney (ImagineAPI) - $10-30/mo - use: artistic, brand imagery
6. Leonardo.ai - Free tier + $10+ - use: character consistency
7. Recraft V3 - API access - use: vector, icon generation
8. Google Imagen 4 - Vertex AI - use: photorealism

**Templated Image Generation** (2 providers)
1. Bannerbear - $49+/mo - use: templated social images
2. Placid - $29+/mo - use: templated OG images, banners

**Video Generation** (7 providers)
1. Runway Gen-4 - $12-76/mo - use: hero/ad videos, 4K
2. Kling AI 2.1 - Budget-friendly - use: volume social clips
3. Pika Labs 2.0 - Free + $8/mo - use: short social content
4. Google Veo 3 - Vertex AI - use: cinematic, with audio
5. Sora 2 - OpenAI API - use: narrative
6. HeyGen - $18+/mo - use: AI presenter/explainer
7. Synthesia - $24+/mo - use: professional presenter

**AI Presenter / Talking Head** (3 providers)
1. HeyGen - $18+/mo
2. Synthesia - $24+/mo
3. D-ID - Pay-as-go

**Email Sending** (5 providers)
1. SendGrid - Free 100/day - scripts: sendgrid.py
2. Mailgun - Free 100/day - scripts: mailgun.py
3. Brevo (Sendinblue) - Free 300/day - scripts: brevo.py
4. Mailchimp - Free tier - scripts: mailchimp.py
5. ConvertKit - $29+/mo - scripts: convertkit.py

**Social Publishing** (8 providers)
1. Buffer - Free + $6+/ch - scripts: buffer_post.py
2. X API v2 (direct) - Free - scripts: x_post.py
3. LinkedIn API - Free - scripts: linkedin_post.py
4. Facebook Graph API - Free - scripts: facebook_post.py
5. Instagram Graph API - Free - scripts: instagram_post.py
6. Pinterest API - Free - scripts: pinterest_post.py
7. TikTok API - Limited - scripts: tiktok_post.py
8. VK API - Free - scripts: vk_post.py

**CMS Publishing** (5 providers)
1. WordPress REST API - Free - scripts: wp_publish.py
2. Ghost API - Free - scripts: ghost_publish.py
3. Webflow CMS API - Paid plan - scripts: webflow_publish.py
4. Custom REST API - Configurable URL - scripts: custom_cms.py
5. Static (markdown) - Free - scripts: static_publish.py

**Content Quality** (3 providers)
1. Copyscape - $0.03/check - scripts: copyscape.py
2. Copyleaks - $9.16+/mo - scripts: copyleaks.py
3. LanguageTool - Free tier - scripts: languagetool.py

**Web Search (for agents)** (3 providers)
1. Brave Search API - Free tier - mcp: brave-search
2. Google Custom Search - Free 100/day - scripts: google_search.py
3. Perplexity API - $0.20/1K queries - scripts: perplexity.py

**Analytics & Tracking** (4 providers)
1. Google Search Console - Free - scripts: gsc_analytics.py
2. Google Analytics 4 - Free - scripts: ga4_analytics.py
3. Plausible - Self-hosted/paid - scripts: plausible.py
4. Umami - Self-hosted/free - scripts: umami.py

**Document Generation** (3 providers)
1. Pandoc - Free, installed - use: md→html, md→docx, md→pdf
2. Calibre - Free, installed - use: epub/mobi generation
3. Puppeteer/Playwright - Free - use: html→pdf, screenshots

**Notifications** (3 providers)
1. Telegram Bot API - Free - scripts: telegram_notify.py
2. Discord Webhook - Free - scripts: discord_notify.py
3. Slack Webhook - Free - scripts: slack_notify.py

### Service Registry Auto-Sync (Lines 503-566)

Auto-generated file: `memory/long-term/SERVICE_REGISTRY.md`
- Daemon process watches Convex for changes
- Writes snapshot to disk for agents to read
- Never hand-edited

Example format:
```markdown
# Service Registry (auto-generated)
# Last updated: 2026-02-10T14:30:00Z

## SEO & Keywords
1. **dataforseo** [ACTIVE] — DataForSEO API
   Script: scripts/services/seo/query_dataforseo.py
   Config: location_code=2840, language=en
   
## Web Scraping
1. **firecrawl** [ACTIVE] — Firecrawl (LLM-ready markdown)
   MCP: firecrawl
```

### Service Resolution Script (Lines 567-614)

`scripts/resolve_service.py` - Agents call this to get the best service:

```bash
python scripts/resolve_service.py image_generation hero_images
# → scripts/services/images/flux_generate.py
```

Returns:
- Service name
- Script path or MCP server name
- Config JSON

### Dashboard Service Registry Page (Lines 615-686)

Agent availability dynamically updates based on configured services:

**Agent States:**
- ENABLED (draggable) - All REQUIRED capabilities have ≥1 active provider
- DEGRADED (draggable) - All required met, but OPTIONAL capabilities missing
- DISABLED (undraggable) - ≥1 REQUIRED capability has 0 active providers

**Example blocked agents when no services configured:**
- vibe-image-generator - needs: image_generation
- vibe-video-generator - needs: video_generation
- vibe-twitter-scout - needs: social_scraping_x
- vibe-linkedin-scout - needs: social_scraping_li
- vibe-competitor-analyst - needs: web_scraping

**Quick Setup button runs:**
1. Start Crawl4AI Docker container (enables web_scraping)
2. Start LanguageTool Docker container (enables content_quality)
3. Prompt for free API keys: Reddit API, X API Essential, YouTube Data API, Google Keyword Planner
4. Updates agent availability in real-time

---

## Section 7: MCP Server Configuration (Lines 1099-1318)

Full 35 MCP servers declared in `.mcp.json`:

**Dev Tools** (active during development)
- playwright - @playwright/mcp@latest --headless

**Search** (3 servers)
- brave-search - @anthropic-ai/mcp-server-brave-search
- perplexity - perplexityai/modelcontextprotocol
- fetch - @anthropic-ai/mcp-server-fetch

**SEO** (4 servers)
- dataforseo - dataforseo-mcp-server (uvx)
- ahrefs - ahrefs-mcp-server
- semrush - https://api.semrush.com/mcp/v1
- google-search-console - mcp-server-gsc

**Social** (3 servers)
- reddit - mcp-server-reddit
- youtube - youtube-mcp-server
- linkedin - linkedin-mcp-server

**Images** (5 servers)
- fal-ai - fal-ai-mcp-server
- openai-image - openai-gpt-image-mcp
- ideogram - @sunwood-ai-labs/ideagram-mcp-server
- recraft - @anthropic-ai/mcp-recraft-server
- replicate - @gongrzhe/image-gen-server

**Video** (2 servers)
- runway - mcp-video-gen/dist/index.js (local)
- veo - mcp-veo2/dist/index.js (local)

**Voice** (1 server)
- elevenlabs - Docker: mcp/elevenlabs

**Email** (2 servers)
- sendgrid - sendgrid-mcp
- mailgun - mailgun-mcp-server/dist/index.js

**CMS** (3 servers)
- wordpress - wordpress-mcp-adapter
- ghost - @fanyangmeng/ghost-mcp
- webflow - webflow-mcp-server

**Notifications** (3 servers)
- slack - @modelcontextprotocol/server-slack
- telegram - telegram_mcp (python)
- discord - mcp-discord

**Analytics** (4 servers)
- google-analytics - google-analytics-mcp
- google-ads - google_ads_mcp (python)
- meta-ads - meta-ads-mcp/dist/index.js
- stripe - https://mcp.stripe.com

**Infrastructure** (2 servers)
- github - @modelcontextprotocol/server-github
- cloudflare - @cloudflare/mcp-server-cloudflare

**Note on Convex:** No MCP server needed - agents access via bash:
```bash
npx convex run tasks:listByAgent '{"agentName":"scout"}' --url http://localhost:3210
```

Wrapper script: `scripts/cx.sh`

---

## Section 17: External Tool Integration Scripts (Lines 5016-5078)

All service wrapper scripts in `scripts/services/` follow common pattern:

```python
#!/usr/bin/env python3
"""
Service: DataForSEO — Keyword Research
Category: seo_keywords
Usage: python scripts/services/seo/query_dataforseo.py <command> [args]
Commands:
  keyword_suggestions <seed1> <seed2> ...
  serp_analysis <keyword>
  keyword_volume <keyword1> <keyword2> ...
"""

import os, sys, json, requests

LOGIN = os.environ.get("DATAFORSEO_LOGIN")
PASSWORD = os.environ.get("DATAFORSEO_PASSWORD")
BASE = "https://api.dataforseo.com/v3"

def keyword_suggestions(seeds, location=2840, language="en"):
    resp = requests.post(f"{BASE}/dataforseo_labs/google/keyword_suggestions/live",
        auth=(LOGIN, PASSWORD),
        json=[{"keywords": seeds, "location_code": location,
               "language_code": language, "limit": 100}])
    # ... process results, output JSON
```

**Script characteristics:**
- Self-contained (reads its own env vars)
- CLI-friendly (agents call via bash)
- JSON output (agents parse the result)
- Documented (--help shows usage)

---

## Agent Service Dependencies

### Agent Availability Gating (Lines 3298-3366)

The pipeline builder checks each agent's service dependencies before allowing placement:

**Agent palette states:**
- ENABLED (draggable) - All REQUIRED capabilities have ≥1 active provider
- DEGRADED (draggable) - All required met, but OPTIONAL capabilities missing (shows warning badge)
- DISABLED (undraggable) - ≥1 REQUIRED capability has 0 active providers

**Example from dashboard (Lines 3314-3346):**

Research agents:
- vibe-keyword-researcher - ENABLED (seo_keywords active)
- vibe-serp-analyzer - ENABLED (serp_tracking active)
- vibe-competitor-analyst - DISABLED (web_scraping: none)

Content agents:
- vibe-content-writer - ENABLED (no external deps)
- vibe-landing-page-writer - ENABLED (no external deps)
- vibe-email-writer - ENABLED (no external deps)

Media agents:
- vibe-image-director - ENABLED (no external deps)
- vibe-image-generator - DISABLED (image_generation: none)
- vibe-video-generator - DISABLED (video_generation: none)

Social agents:
- vibe-twitter-scout - DISABLED (social_scraping_x: none)
- vibe-reddit-scout - ENABLED (reddit API active)
- vibe-linkedin-scout - DISABLED (social_scraping_li: none)

Quality agents:
- vibe-content-reviewer - DEGRADED (Limited: no plagiarism)
- vibe-humanizer - ENABLED (no external deps)

---

## Complete Agent Roster

### Research Agents (8 agents)

| Agent | Model | Schedule | Service Dependencies |
|-------|-------|----------|---------------------|
| vibe-keyword-researcher | sonnet | */6h | seo_keywords (required) |
| vibe-keyword-deep-researcher | sonnet | on-demand | seo_keywords (required) |
| vibe-competitor-analyst | sonnet | daily | web_scraping (required) |
| vibe-brand-monitor | sonnet | */8h | web_scraping (optional) |
| vibe-reddit-scout | sonnet | */8h | social_scraping_reddit (required) |
| vibe-twitter-scout | sonnet | */8h | social_scraping_x (required) |
| vibe-linkedin-scout | sonnet | daily | social_scraping_li (required) |
| vibe-trend-detector | sonnet | */12h | web_search (optional) |
| vibe-review-harvester | sonnet | weekly | web_scraping (optional) |
| vibe-serp-analyzer | sonnet | on-demand | serp_tracking (required) |
| vibe-seo-auditor | sonnet | weekly | seo_keywords (optional) |

### Content Creation Agents (10 agents)

| Agent | Model | Schedule | Service Dependencies |
|-------|-------|----------|---------------------|
| vibe-content-writer | sonnet | hourly | none (pure Claude) |
| vibe-landing-page-writer | opus | on-demand | none (pure Claude) |
| vibe-email-writer | sonnet | on-demand | none (pure Claude) |
| vibe-social-writer | sonnet | */12h | none (pure Claude) |
| vibe-script-writer | sonnet | on-demand | none (pure Claude) |
| vibe-ebook-writer | opus | on-demand | none (pure Claude) |
| vibe-content-repurposer | sonnet | daily | none (pure Claude) |
| vibe-ad-writer | sonnet | on-demand | none (pure Claude) |
| vibe-press-writer | sonnet | on-demand | none (pure Claude) |

### Quality & Review Agents (4 agents)

| Agent | Model | Schedule | Service Dependencies |
|-------|-------|----------|---------------------|
| vibe-content-reviewer | sonnet | */8h | none (pure Claude) |
| vibe-humanizer | opus | triggered | none (pure Claude) |
| vibe-fact-checker | sonnet | triggered | web_search (optional) |
| vibe-plagiarism-checker | haiku | triggered | plagiarism_check (required) |

### Media Agents (3 agents)

| Agent | Model | Schedule | Service Dependencies |
|-------|-------|----------|---------------------|
| vibe-image-director | sonnet | on-demand | none (writes prompts only) |
| vibe-image-generator | haiku | on-demand | image_generation (required) |
| vibe-video-generator | haiku | on-demand | video_generation (required) |

### Publishing & Distribution Agents (3 agents - FUTURE, post-MVP)

| Agent | Model | Schedule | Service Dependencies |
|-------|-------|----------|---------------------|
| vibe-publisher | haiku | */3h | cms_publishing (required) |
| vibe-social-distributor | haiku | */12h | social_publishing (required) |
| vibe-email-distributor | haiku | on-demand | email_sending (required) |

### Analytics & Optimization Agents (4 agents - FUTURE)

| Agent | Model | Schedule | Service Dependencies |
|-------|-------|----------|---------------------|
| vibe-analytics-reporter | sonnet | weekly | analytics (required) |
| vibe-rank-tracker | haiku | daily | serp_tracking (required) |
| vibe-content-refresher | sonnet | weekly | seo_keywords (optional) |
| vibe-roi-calculator | sonnet | monthly | analytics (required) |

### Orchestration Agent (1 agent)

| Agent | Model | Schedule | Service Dependencies |
|-------|-------|----------|---------------------|
| vibe-orchestrator | haiku | */10min | notifications (optional) |

### Audience Intelligence Agents (3 agents)

| Agent | Model | Schedule | Service Dependencies |
|-------|-------|----------|---------------------|
| vibe-audience-parser | sonnet | on-demand | none (document parsing) |
| vibe-audience-researcher | opus | on-demand | web_search (optional) |
| vibe-audience-enricher | sonnet | weekly | web_scraping (optional) |

**Total MVP agents: 31**
- **23 agents work at $0/mo** (no paid services required)
- **8 agents require paid/configured services** to function

---

## Cost Analysis (Lines 5079-5109)

### Fixed Monthly Costs

| Item | Cost |
|------|------|
| Claude Max subscription | $200 |
| Hetzner bare metal (amortized) | ~$20 |
| **Fixed total** | **$220** |

### Variable Costs (60-100 articles/month)

| Service | Est. Usage | Est. Cost |
|---------|-----------|-----------|
| DataForSEO | 5K keywords + 2K SERPs | $30-50 |
| Firecrawl | 500 scrapes | $19 |
| Copyscape | 60 checks | $2 |
| FLUX Pro (images) | 60 images | $3-6 |
| Buffer/social | Free-$6 | $0-6 |
| SendGrid | Free tier | $0 |
| Google APIs | Free | $0 |
| **Variable total** | | **$55-85** |

**Total: ~$275-305/month**

Output: 60-100 articles + 300+ social posts + emails + monitoring + analytics

**Per-article cost (fully loaded): ~$3-5**

---

## Free Tier / Self-Hosted Setup (23/31 agents at $0/mo)

The platform can run with zero external service costs by using:

**Self-Hosted Docker Services:**
- Crawl4AI (port 11235) - web scraping
- LanguageTool (port 8081) - grammar/quality

**Free API Tiers:**
- Reddit API - social scraping
- X API v2 Essential - social scraping
- YouTube Data API v3 - video research
- Google Keyword Planner - keyword research (via Google Ads API)
- SendGrid - 100 emails/day
- All social publishing APIs (X, LinkedIn, Facebook, Instagram, Pinterest) - free direct posting

**No External Dependencies (pure Claude):**
- All 10 content writing agents
- vibe-content-reviewer
- vibe-humanizer
- vibe-image-director (prompt writing only)
- vibe-orchestrator
- vibe-audience-parser

**Agents that require paid services:**
1. vibe-keyword-researcher - needs DataForSEO/Ahrefs/SEMrush (or free Google KP)
2. vibe-competitor-analyst - needs web scraping (can use free Crawl4AI)
3. vibe-image-generator - needs image generation API
4. vibe-video-generator - needs video generation API
5. vibe-plagiarism-checker - needs Copyscape/Copyleaks
6. vibe-serp-analyzer - needs SERP API (DataForSEO or free GSC)
7. vibe-twitter-scout - needs X API (free Essential tier available)
8. vibe-linkedin-scout - needs PhantomBuster/ProxyCurl (paid only)

**Setup script:** `scripts/setup.sh`
- Installs all MCPs
- Starts Docker services
- Prompts for API keys
- Seeds Convex service registry
- Shows agent availability status

---

## Key Files

| File | Purpose | Lines |
|------|---------|-------|
| `vibe-marketing-platform-v3.md` | Master platform spec | 5,227 |
| `memory/long-term/SERVICE_REGISTRY.md` | Auto-generated service snapshot | Auto-updated |
| `.mcp.json` | MCP server configuration | 35 servers |
| `scripts/resolve_service.py` | Service resolution for agents | 40 |
| `scripts/services/*/` | Service wrapper scripts | ~50 scripts |
| `scripts/setup.sh` | One-command setup | Installs everything |
| `convex/schema.ts` | Database schema with service tables | 2000+ lines |

---

## Implementation Notes

1. **Service Registry is the source of truth** - dashboard edits Convex, daemon syncs to SERVICE_REGISTRY.md
2. **Agents read SERVICE_REGISTRY.md** - never query Convex directly for services
3. **Pipeline builder shows real-time agent availability** - based on configured services
4. **Agent gating is hard** - disabled agents cannot be dragged into pipelines
5. **Quick Setup enables 23/31 agents** - with only free tiers + Docker
6. **Scripts follow common pattern** - self-contained, CLI-friendly, JSON output
7. **MCP servers are inactive until API keys provided** - env var placeholders in .mcp.json
8. **Convex access via bash wrapper** - `scripts/cx.sh` simplifies npx convex run calls

---

## Architecture Diagram

```
┌─────────────────────────────────────────────────────────────┐
│  Dashboard (Vue + Nuxt)                                     │
│  Settings → Services page                                   │
│  - Add/edit API keys                                        │
│  - Enable/disable providers                                 │
│  - Set priority                                             │
│  - Health check                                             │
└────────────────────┬────────────────────────────────────────┘
                     │
                     ▼
┌─────────────────────────────────────────────────────────────┐
│  Convex (Self-Hosted)                                       │
│  - serviceCategories (capabilities)                         │
│  - services (providers: DataForSEO, Firecrawl, etc.)       │
│  - agentServiceDeps (agent→capability mapping)             │
└────────────────────┬────────────────────────────────────────┘
                     │
                     ▼
┌─────────────────────────────────────────────────────────────┐
│  Service Registry Daemon (PM2)                              │
│  Watches Convex for changes                                 │
│  Writes to: memory/long-term/SERVICE_REGISTRY.md            │
└────────────────────┬────────────────────────────────────────┘
                     │
                     ▼
┌─────────────────────────────────────────────────────────────┐
│  Agents (Claude Code)                                       │
│  1. Read SERVICE_REGISTRY.md                                │
│  2. Call: python scripts/resolve_service.py <category>      │
│  3. Get script path or MCP server name                      │
│  4. Execute service call                                    │
│  5. Process JSON response                                   │
└─────────────────────────────────────────────────────────────┘
```

---

## Next Steps for Implementation

From Phase 1 roadmap (lines 5111-5135):
1. Deploy self-hosted Convex (docker-compose)
2. Seed service categories table
3. Build Service Registry page in dashboard
4. Create service wrapper scripts (scripts/services/*)
5. Build service registry sync daemon
6. Implement agent availability gating in pipeline builder
7. Create setup.sh for one-command installation

Current status: Documentation complete, implementation pending.
